[{"/Users/dominic/workspace/dad_page/dad-page-frontend/src/index.js":"1","/Users/dominic/workspace/dad_page/dad-page-frontend/src/App.js":"2","/Users/dominic/workspace/dad_page/dad-page-frontend/src/reportWebVitals.js":"3","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/LifeReview/LifeReview.js":"4","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Messages/Messages.js":"5","/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/Aux.js":"6","/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/Layouts/Layout.js":"7","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/ArticleItems.js":"8","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Article/Article.js":"9","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/ArticleItem/Title.js":"10","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/ArticleItem/Markdown.js":"11","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Message/Message.js":"12","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/lifeReview.js":"13","/Users/dominic/workspace/dad_page/dad-page-frontend/src/utility/utility.js":"14","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/actionTypes.js":"15","/Users/dominic/workspace/dad_page/dad-page-frontend/src/network/axios.js":"16","/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/ErrorHandler/withErrorHandler.js":"17","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/index.js":"18","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/lifeReview.js":"19","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/MessageBox/MessageBox.js":"20","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Input/Input.js":"21","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/messages.js":"22","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/messages.js":"23","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/createMessage.js":"24","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/CreateMessage/CreateMessage.js":"25","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/createMessage.js":"26","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Spinner/Spinner.js":"27","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Example/Centering4Ways.js":"28","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Image/ImageCard.js":"29","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Image/ImageInput.js":"30","/Users/dominic/workspace/dad_page/dad-page-frontend/src/base.js":"31","/Users/dominic/workspace/dad_page/dad-page-frontend/src/utility/Image/ImageResizer.js":"32","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Navigation/Header.js":"33","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/auth.js":"34","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/auth.js":"35","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/ContentContainer/ContentContainer.js":"36","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Cards/ErrorCard.js":"37","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Cards/MessageCard.js":"38","/Users/dominic/workspace/dad_page/dad-page-frontend/src/i18n.js":"39","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/CreateMessage/UpdateMessage.js":"40","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Message/MessageForm.js":"41","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/updateMessage.js":"42","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/updateMessage.js":"43","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/CreateArticle.js":"44","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Article/ArticleForm.js":"45","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/createArticle.js":"46","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/createArticle.js":"47","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/updateArticle.js":"48","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/updateArticle.js":"49","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/UpdateArticle.js":"50","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Dialogs/OkDialog.js":"51","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Dialogs/OkCancelDialog.js":"52","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/News/News.js":"53"},{"size":2195,"mtime":1612636606296,"results":"54","hashOfConfig":"55"},{"size":1439,"mtime":1612912607715,"results":"56","hashOfConfig":"55"},{"size":362,"mtime":1611619004206,"results":"57","hashOfConfig":"55"},{"size":3079,"mtime":1612918805863,"results":"58","hashOfConfig":"55"},{"size":3923,"mtime":1612320262601,"results":"59","hashOfConfig":"55"},{"size":59,"mtime":1611659217607,"results":"60","hashOfConfig":"61"},{"size":1192,"mtime":1612921349455,"results":"62","hashOfConfig":"55"},{"size":8591,"mtime":1612669148041,"results":"63","hashOfConfig":"55"},{"size":1325,"mtime":1612742105995,"results":"64","hashOfConfig":"55"},{"size":384,"mtime":1611702008555,"results":"65","hashOfConfig":"55"},{"size":1156,"mtime":1611700148756,"results":"66","hashOfConfig":"61"},{"size":3139,"mtime":1612317787361,"results":"67","hashOfConfig":"55"},{"size":1178,"mtime":1612313535580,"results":"68","hashOfConfig":"55"},{"size":1056,"mtime":1611768235125,"results":"69","hashOfConfig":"55"},{"size":2051,"mtime":1612664611276,"results":"70","hashOfConfig":"55"},{"size":150,"mtime":1611685955063,"results":"71","hashOfConfig":"55"},{"size":1907,"mtime":1611793954820,"results":"72","hashOfConfig":"55"},{"size":527,"mtime":1612664625636,"results":"73","hashOfConfig":"55"},{"size":1175,"mtime":1612286820241,"results":"74","hashOfConfig":"55"},{"size":1623,"mtime":1611794107852,"results":"75","hashOfConfig":"55"},{"size":2053,"mtime":1612490298799,"results":"76","hashOfConfig":"55"},{"size":1133,"mtime":1612286827279,"results":"77","hashOfConfig":"55"},{"size":1140,"mtime":1612313513358,"results":"78","hashOfConfig":"55"},{"size":1518,"mtime":1612198100757,"results":"79","hashOfConfig":"55"},{"size":13736,"mtime":1612627671395,"results":"80","hashOfConfig":"55"},{"size":3994,"mtime":1612315116458,"results":"81","hashOfConfig":"55"},{"size":307,"mtime":1611797592071,"results":"82","hashOfConfig":"55"},{"size":1585,"mtime":1611797294917,"results":"83","hashOfConfig":"55"},{"size":672,"mtime":1612056203911,"results":"84","hashOfConfig":"55"},{"size":417,"mtime":1612627614502,"results":"85","hashOfConfig":"55"},{"size":1066,"mtime":1612918824404,"results":"86","hashOfConfig":"55"},{"size":1488,"mtime":1612308070740,"results":"87","hashOfConfig":"55"},{"size":4122,"mtime":1612912772270,"results":"88","hashOfConfig":"55"},{"size":2977,"mtime":1612286800102,"results":"89","hashOfConfig":"55"},{"size":1813,"mtime":1612313632187,"results":"90","hashOfConfig":"55"},{"size":647,"mtime":1612055935758,"results":"91","hashOfConfig":"55"},{"size":1099,"mtime":1612207196981,"results":"92","hashOfConfig":"55"},{"size":931,"mtime":1612206684755,"results":"93","hashOfConfig":"55"},{"size":1024,"mtime":1612203255018,"results":"94","hashOfConfig":"55"},{"size":5042,"mtime":1612634558754,"results":"95","hashOfConfig":"55"},{"size":10751,"mtime":1612627661051,"results":"96","hashOfConfig":"55"},{"size":5438,"mtime":1612321227595,"results":"97","hashOfConfig":"55"},{"size":2016,"mtime":1612321455494,"results":"98","hashOfConfig":"55"},{"size":5038,"mtime":1612630537101,"results":"99","hashOfConfig":"55"},{"size":11817,"mtime":1612667441613,"results":"100","hashOfConfig":"55"},{"size":5115,"mtime":1612667801672,"results":"101","hashOfConfig":"55"},{"size":1518,"mtime":1612489793684,"results":"102","hashOfConfig":"55"},{"size":7312,"mtime":1612668564127,"results":"103","hashOfConfig":"55"},{"size":3112,"mtime":1612664742618,"results":"104","hashOfConfig":"55"},{"size":4778,"mtime":1612656270412,"results":"105","hashOfConfig":"55"},{"size":768,"mtime":1612665195453,"results":"106","hashOfConfig":"55"},{"size":915,"mtime":1612665325777,"results":"107","hashOfConfig":"55"},{"size":5684,"mtime":1612918651849,"results":"108","hashOfConfig":"55"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},"zdiml4",{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"111"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},"1rysc9r",{"filePath":"124","messages":"125","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"111"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"111"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"149"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"149"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167","usedDeprecatedRules":"111"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"170","usedDeprecatedRules":"111"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"175"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"111"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"111"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"111"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"111"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"111"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"211","messages":"212","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"213","usedDeprecatedRules":"111"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"216","usedDeprecatedRules":"111"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"223","usedDeprecatedRules":"111"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"226","messages":"227","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"228","usedDeprecatedRules":"111"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"235","usedDeprecatedRules":"111"},"/Users/dominic/workspace/dad_page/dad-page-frontend/src/index.js",[],["236","237"],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/App.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/reportWebVitals.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/LifeReview/LifeReview.js",["238","239","240","241"],"import React, { Component } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport titleImage from '../../assets/venice.jpg'\nimport profileImage from '../../assets/profile.jpeg'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ArticleItems from '../Articles/ArticleItems';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport { withTranslation } from 'react-i18next';\n\nconst styles = theme => ({\n    root: {\n        paddingBottom: 100\n    },\n    titleImageDiv: {\n        overflow: 'hidden'\n    },\n    titleImage: {\n\n        objectFit: 'cover',\n        // height: '400px',\n        width: '1080px',\n        marginTop: '20px',\n        marginLeft: '50%',\n        transform: 'translateX(-50%)'\n    },\n    profileImage: {\n        objectFit: 'contain',\n        top: '180px',\n        // marginTop: '20px',\n        position: 'absolute',\n\n        height: '300px',\n        marginLeft: '65%',\n        transform: 'translateX(-65%)',\n\n\n        [theme.breakpoints.down('sm')]: {\n            height: '250px',\n            marginLeft: '50%',\n            transform: 'translateX(-50%)',\n        }\n    },\n    title: {\n        top: '450px',\n        // marginTop: '100px',\n        marginLeft: '5%',\n        transform: 'translateX(-5%)',\n        position: 'absolute',\n        width: '700px',\n        color: 'white',\n        fontWeight: 'bold',\n        textShadow: '1px 1px black',\n\n        [theme.breakpoints.down('sm')]: {\n            top: '400px',\n            marginLeft: '50%',\n            width: '250px',\n            transform: 'translateX(-50%)'\n        }\n    }\n});\n\nclass LifeReview extends Component {\n    \n    render() {\n        const {t} = this.props;\n\n        return (\n            <React.Fragment>\n                <ContentContainer>\n                    {/* <div className={this.props.classes.titleImageDiv}>\n                        <img\n                            className={this.props.classes.titleImage}\n                            // src={titleImage}\n                            src=\"https://firebasestorage.googleapis.com/v0/b/dad-page.appspot.com/o/lifereview%2Fcover.jpg?alt=media&token=98e2a593-7cec-4a5b-8a13-4192b9686df7\"\n                            alt='image'\n                        />\n                    </div>\n                    <img\n                        className={this.props.classes.profileImage}\n                        src={profileImage}\n                        alt='image'\n                    />\n                    <Typography variant=\"h6\" align=\"center\"\n                        className={this.props.classes.title}\n                    >\n                        {t('lifereview.heading')}\n                    </Typography> */}\n                    <Grid container justify=\"center\" className={this.props.classes.root}\n                    // spacing={2} \n                    >\n                        <ArticleItems />\n                    </Grid>\n                </ContentContainer>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withTranslation()(withStyles(styles)(LifeReview));","/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Messages/Messages.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/Aux.js",[],["242","243"],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/Layouts/Layout.js",["244","245"],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/ArticleItems.js",["246"],"import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Button } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\n\nimport Article from '../../components/Article/Article';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport ErrorCard from '../../components/UI/Cards/ErrorCard';\nimport ImageCard from '../../components/UI/Image/ImageCard';\nimport OkDialog from '../../components/UI/Dialogs/OkDialog';\nimport OkCancelDialog from '../../components/UI/Dialogs/OkCancelDialog';\nimport UpdateArticle from './UpdateArticle';\n\nclass ArticleItems extends Component {\n\n    state = {\n        editMode: false,\n        deleteMode: false,\n        articleId: null\n    }\n\n    componentDidMount() {\n        if (!this.props.articleItems) {\n            this.props.onGetLifeReview();\n        }\n    }\n\n    refreshPage = () => {\n        this.props.onGetLifeReview();\n    }\n\n    handleEditClick = (articleId) => {\n        this.setState({\n            editMode: true,\n            articleId: articleId\n        });\n        this.props.onGetArticle(articleId);\n    }\n\n    handleDeleteClick = (articleId) => {\n        this.setState({\n            deleteMode: true,\n            articleId: articleId\n        });\n        this.props.onGetArticle(articleId);\n    }\n\n    handleDeleteConfirm = () => {\n        this.setState({\n            deleteMode: false,\n            articleId: null\n        });\n        this.props.onDeleteArticle(this.state.articleId, this.props.article);\n    }\n\n    handleDeleteCancel = () => {\n        this.setState({\n            deleteMode: false,\n            articleId: null\n        });\n        this.props.onUpdateArticleReset();\n    }\n\n    handleErrorClosed = () => {\n        this.setState({\n            editMode: false,\n            deleteMode: false,\n            articleId: null\n        });\n        this.props.onUpdateArticleReset();\n    }\n\n    handleSuccess = () => {\n        this.setState({\n            editMode: false,\n            deleteMode: false,\n            articleId: null\n        });\n        this.props.onUpdateArticleReset();\n        this.refreshPage();\n    }\n\n    handleCancel = () => {\n        this.setState({\n            editMode: false,\n            deleteMode: false,\n            articleId: null\n        });\n        this.props.onUpdateArticleReset();\n    }\n\n    render() {\n        let articleItems = null;\n        const { t } = this.props;\n        let errorDialog = null;\n        let deleteSuccessDialog = null;\n\n        if (this.props.updateArticleError) {\n            errorDialog = (\n                <OkDialog\n                    open\n                    title={t('errors.error_default')}\n                    content={t(this.props.updateArticleError.message)}\n                    actionText={t('general.ok')}\n                    onClose={this.handleErrorClosed}\n                    onAction={this.handleErrorClosed}\n                />\n            );\n        }else if (this.props.updateArticleSuccess) {\n            deleteSuccessDialog = (\n                <OkDialog\n                    open\n                    title={t('updatearticle.submit_success')}\n                    content={t('updatearticle.submit_success')}\n                    actionText={t('general.ok')}\n                    onClose={this.handleSuccess}\n                    onAction={this.handleSuccess}\n                />\n            );\n        }\n\n        if (this.props.loading) {\n            articleItems = <Grid item><Spinner /> </Grid>\n        } else if (this.props.error) {\n            articleItems = (\n                <Grid item>\n                    <ErrorCard onAction={this.refreshPage} actionText={t('general.refresh')} />\n                </Grid>\n            );\n        } else if (this.props.articleItems) {\n            articleItems = this.props.articleItems.map(\n                article => {\n                    if (article.type === 'article') {\n                        return (<Grid item key={article.id}\n                            xs={12} // sm={10} md={8}\n                        >\n                            <Article  {...article}\n                                showEdit={\n                                    this.props.authenticated\n                                    && this.props.userId === article.userId\n                                }\n                                onEditClicked={() => { this.handleEditClick(article.id) }}\n                                showDelete={\n                                    this.props.authenticated\n                                    && this.props.userId === article.userId\n                                }\n                                onDeleteClicked={() => { this.handleDeleteClick(article.id) }}\n                            />\n                        </Grid>\n                        );\n                    } else if (article.type === 'image') {\n                        let editButton = null;\n                        let deleteButton = null;\n                        if (this.props.authenticated\n                            && this.props.userId === article.userId) {\n                            editButton = (\n                                <Button color=\"primary\" variant=\"contained\"\n                                    onClick={() => {this.handleEditClick(article.id);}}\n                                >\n                                    {t('general.edit')}\n                                </Button>\n                            );\n                            deleteButton = (\n                                <Button color=\"secondary\" variant=\"contained\"\n                                    onClick={() => {this.handleDeleteClick(article.id);}}\n                                >\n                                    {t('general.delete')}\n                                </Button>\n                            );\n                        }\n                        return (\n                            <Grid item key={article.id} xs={12} sm={10} md={8}>\n                                <ImageCard\n                                    imageURL={article.resizedImageURL}\n                                    caption={article.caption}\n                                />\n                                {editButton}\n                                {deleteButton}\n                            </Grid>\n                        );\n                    }\n                }\n            );\n        }\n\n        let editModal = null;\n        if (this.state.editMode) {\n            editModal = (\n                <UpdateArticle\n                    show={this.state.editMode}\n                    articleId={this.state.articleId}\n                    onCancel={this.handleCancel}\n                    onSuccess={this.handleSuccess}\n                />\n            );\n        }\n\n        let deleteDialog = null;\n        if(this.state.deleteMode && this.props.article){\n            deleteDialog = (\n                <OkCancelDialog\n                    open\n                    onClose={this.handleDeleteCancel}\n                    title={t('general.delete')}\n                    content={t('general.delete')+'?'}\n                    onOK={this.handleDeleteConfirm}\n                    onCancel={this.handleDeleteCancel}\n                    actionTextOK={t('general.ok')}\n                    actionTextCancel={t('general.cancel')}\n                />\n            );\n        }\n\n        return (\n            <React.Fragment>\n                {errorDialog}\n                {deleteDialog}\n                {deleteSuccessDialog}\n                {editModal}\n                {articleItems}\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        articleItems: state.lifeReview.articleItems,\n        loading: state.lifeReview.loading,\n        error: state.lifeReview.error,\n\n        updateArticleError: state.updateArticle.error,\n        article: state.updateArticle.article,\n        updateArticleSuccess: state.updateArticle.updateArticleSuccess,\n\n        authenticated: state.auth.authenticated,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onGetArticle: (articleId) => dispatch(actions.getArticle(articleId)),\n        onGetLifeReview: () => dispatch(actions.getLifeReview()),\n        onUpdateArticleReset: () => dispatch(actions.updateArticleReset()),\n        onDeleteArticle: (articleId, article) => dispatch(actions.deleteArticle(articleId, article)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(ArticleItems));","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Article/Article.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/ArticleItem/Title.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/ArticleItem/Markdown.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Message/Message.js",["247"],"import React from 'react';\nimport Title from '../ArticleItem/Title';\nimport { Typography, Card, CardContent, Grid, CardActions, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\n\nimport ImageCard from '../UI/Image/ImageCard';\n\nconst useStyles = makeStyles({\n    root: {\n        marginBottom: '50px',\n        width: '100%',\n        background: '#F5E9D4'\n    },\n    content: {\n        margin: '12px'\n    },\n    gridListRoot: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-around',\n        overflow: 'hidden',\n        // backgroundColor: theme.palette.background.paper,\n    },\n    // gridList: {\n    //     width: 500,\n    //     height: 450,\n    //   },\n});\n\nconst Message = (props) => {\n    let title = null;\n    const classes = useStyles();\n    const {t} = props;\n\n    if (props.title) {\n        title = (\n            <Title title={props.title} />\n        );\n    }\n\n    let imageCards = [];\n    if (props.imageFiles) {\n        imageCards = (\n            <Grid container justify=\"center\">\n                {props.imageFiles.map((files, index) => (\n                    <Grid item key={index} xs={12} sm={10} md={8}>\n                        <ImageCard\n                            imageURL={files.resizedImageURL}\n                        />\n                    </Grid>\n                ))}\n            </Grid>\n\n            // <div className={classes.gridListRoot}>\n            //     <GridList className={classes.gridList} cols={2}>\n            //         {props.imageFiles.map((files, index) => (\n            //             <GridListTile key={index}>\n            //                 <img src={files.resizedImageURL} />\n            //             </GridListTile>\n            //         ))}\n            //     </GridList>\n            // </div>\n        );\n    }\n\n    let edit = null;\n    if(props.showEdit){\n        edit = (\n            <CardActions>\n                <Button color=\"primary\" variant=\"contained\"\n                    onClick={props.onEditClicked}\n                >\n                    {t('messages.edit_message')}\n                </Button>\n            </CardActions>\n        );\n    }\n\n    return (\n        <Card className={classes.root} variant=\"outlined\">\n            <CardContent>\n                <Typography className={classes.content}\n                    variant=\"body1\"\n                    style={{ whiteSpace: 'pre-line' }}\n                    gutterBottom paragraph>\n                    {props.content}\n                </Typography>\n                {imageCards}\n                <Typography\n                    className={classes.content}\n                    component=\"h2\"\n                    variant=\"h5\"\n                    color=\"inherit\"\n                    align=\"right\"\n                    style={{ whiteSpace: 'pre-line' }}\n                    // noWrap\n                    gutterBottom paragraph\n                >\n                    {props.author}\n                </Typography>\n            </CardContent>\n            {edit}\n        </Card>\n    );\n}\n\nexport default withTranslation()(Message);","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/lifeReview.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/utility/utility.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/actionTypes.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/network/axios.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/hoc/ErrorHandler/withErrorHandler.js",["248"],"import React, {Component} from 'react';\nimport Modal from '@material-ui/core/Modal';\n\nimport MessageBox from '../../components/UI/MessageBox/MessageBox';\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n    //anonymous class\n    return class extends Component{\n        constructor (props) {\n            super(props);\n\n            this.state = {\n                error: null\n            };\n\n            // clear error whenever request is sent\n            this.reqInterceptor = axios.interceptors.request.use(req => {\n                this.setState({error: null});\n                return req;\n            });\n\n            this.resInterceptor = axios.interceptors.response.use(res => res, error => {\n                this.setState({error: error});\n                return Promise.reject(error);\n            });\n        }\n\n        componentWillUnmount() {\n            // to ensure that axios interceptors are removed when component is unmount to prevent memory leak\n            console.log(this.reqInterceptor, this.resInterceptor);\n            axios.interceptors.request.eject(this.reqInterceptor);\n            axios.interceptors.response.eject(this.resInterceptor);\n        }\n\n        clearErrorHandler = () => {\n            this.setState({error: null});\n        }\n\n        render() {\n            return (\n                <React.Fragment>\n                    <MessageBox\n                        title=\"Error\"\n                        message={this.state.error\n                            ?this.state.error.message\n                            : 'Unexpected error'}\n                        actionType=\"OK\"\n                        open={this.state.error}\n                        onClose={this.clearErrorHandler}\n                    />\n                    <WrappedComponent {...this.props} />\n                </React.Fragment>\n                \n            );\n        }\n    }\n}\n\nexport default withErrorHandler;",["249","250"],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/index.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/lifeReview.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/MessageBox/MessageBox.js",["251"],"import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nexport default function MessageBox(props) {\n\n    let title = null;\n    let message = null;\n    let buttons = null;\n    let dialogue = null;\n\n    if (props.title) {\n        title = <DialogTitle id=\"form-dialog-title\">{props.title}</DialogTitle>;\n    }\n\n    if (props.message) {\n        message = (\n            <DialogContentText>\n                {props.message}\n            </DialogContentText>\n        );\n    }\n\n    if (props.actionType === 'OK') {\n        buttons = (\n            <Button onClick={props.onClose} color=\"primary\">\n                OK\n            </Button>\n        );\n    }\n\n    if(props.open){\n        dialogue = (\n            <Dialog open onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n                {title}\n\n                <DialogContent style={{minWidth: 400}}>\n                    {message}\n                    {props.children}\n                </DialogContent>\n                {buttons\n                    ? (<DialogActions>\n                        {buttons}\n                    </DialogActions>)\n                    : null}\n            </Dialog>\n        );\n    }\n\n    return (\n        <React.Fragment>\n            {dialogue}\n        </React.Fragment>\n    );\n}\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Input/Input.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/messages.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/messages.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/createMessage.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/CreateMessage/CreateMessage.js",["252","253"],"import React, { Component } from 'react';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { app } from '../../base';\nimport { withTranslation } from 'react-i18next';\n\nimport Input from '../../components/UI/Input/Input'\nimport { checkFormFieldValid, updateArray } from '../../utility/utility';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport ImageInput from '../../components/UI/Image/ImageInput';\nimport ImageCard from '../../components/UI/Image/ImageCard';\nimport { resizeImage } from '../../utility/Image/ImageResizer';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport MessageCard from '../../components/UI/Cards/MessageCard';\nimport GoogleButton from 'react-google-button'\n\nconst styles = theme => ({\n    root: {\n        paddingBottom: 100\n    },\n    login: {\n        paddingTop: 50\n    },\n    form: {\n        '& .MuiTextField-root': {\n            // boxSizing: 'border-box',\n            margin: '20px 0px',\n            width: '100%',\n            display: 'block'\n        },\n        width: '100%'\n    }\n});\n\nclass CreateMessage extends Component {\n    state = {\n        controls: [\n            {\n                id: 'author',\n                elementType: 'textarea',\n                elementConfig: {\n                    label: this.props.t('createmessage.name'),\n                    rows: 2\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                modified: false\n            },\n            {\n                id: 'content',\n                elementType: 'textarea',\n                elementConfig: {\n                    label: this.props.t('createmessage.message'),\n                    rows: 15\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                modified: false\n            }\n        ],\n        isFormValid: false,\n        imageError: null,\n        imageFiles: [] // {original: file, resized: base64}\n    }\n\n    checkFormValid(form) {\n        return form.map((field) => {\n            if (!field.validation)\n                return true;\n            else\n                return field.valid;\n        }).reduce((accum, field) => {\n            return accum && field;\n        }, true);\n    }\n\n    submitHandler = (event) => {\n        // event.preventDefault();\n\n        const message = {};\n\n        if (this.checkFormValid(this.state.controls)) {\n            this.state.controls.forEach(control => {\n                message[control.id] = control.value;\n            });\n\n            this.props.onCreateMessage(\n                this.props.userId,\n                message,\n                this.state.imageFiles);\n        }\n    }\n\n    inputChangedHandler = (event, configIndex) => {\n        const updatedControls = updateArray(this.state.controls,\n            {\n                ...this.state.controls[configIndex],\n                value: event.target.value,\n                valid: checkFormFieldValid(event.target.value, this.state.controls[configIndex].validation),\n                modified: true\n            },\n            configIndex\n        );\n        //console.log(updatedControls);\n        this.setState({\n            controls: updatedControls,\n            isFormValid: this.checkFormValid(updatedControls)\n        });\n    }\n\n    resetForm = () => {\n        const newControls = this.state.controls.map(control => {\n            return {\n                ...control, ...{\n                    value: '',\n                    valid: false,\n                    modified: false\n                }\n            };\n        });\n\n        this.setState({\n            controls: newControls,\n            isFormValid: false,\n            imageFiles: [],\n            imageError: null\n        });\n\n        this.props.onCreateMessageReset();\n        this.props.onGetMessages();\n        this.props.history.push(\"/messages\");\n    }\n\n    validateImage = (file) => {\n        if(file.type !== 'image/jpeg' \n            && file.type !== 'image/x-png'\n            && file.type !== 'image/png'){\n            return this.props.t('createmessage.errors.image_format');\n        }\n\n        if(file.size > 10485760){\n            return this.props.t('createmessage.errors.image_size');\n        }\n\n        return null;\n    }\n\n    imageChosenHandler = async (event) => {\n        const imageFilesList = event.target.files;\n        const inputValue = event.target.value;\n\n        if (imageFilesList) {\n            const imageFiles = [];\n\n            for (let i = 0; i < imageFilesList.length; i++) {\n                let file = imageFilesList[i];\n                let imageError = null;\n\n                imageError = this.validateImage(file);\n                if(imageError !== null){\n                    this.setState({\n                        imageFiles: [],\n                        imageError: imageError\n                    });\n\n                    return;\n                }\n                imageFiles.push({ original: file });\n            }\n\n            for (let index = 0; index < imageFiles.length; index++) {\n                let file = imageFiles[index];\n                let contentType = null;\n\n                contentType = 'JPEG';\n\n                try{\n                    imageFiles[index]['resized'] = await resizeImage(file.original, contentType);\n                }catch(error){\n                    console.log(error);\n                    this.setState({\n                        imageFiles: [],\n                        imageError: this.props.t('createmessage.errors.image_resize')\n                    });\n\n                    return;\n                }\n            };\n\n            this.setState({\n                imageFiles: imageFiles,\n                imageError: null\n            });\n\n        } else {\n            this.setState({\n                imageFiles: [],\n                imageError: null\n            });\n        }\n    }\n\n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes } = this.props;\n\n        if (this.props.createMessageSuccess) {\n            mainContent = <Grid item xs={12} >\n                <MessageCard\n                    message={t('createmessage.submit_success')}\n                    actionText={t('general.ok')}\n                    onAction={this.resetForm} />\n            </Grid>;\n        }\n        else {\n            if (this.props.authenticated) {\n\n\n                // let resizedImageCard = null;\n                // if (this.state.resizedImageBase64) {\n                //     resizedImageCard = (\n                //         <React.Fragment>\n                //             <ImageCard\n                //                 imageURL={this.state.resizedImageBase64}\n                //             />\n                //         </React.Fragment>\n                //     );\n                // }\n\n                if (this.props.loading) {\n                    mainContent = <Grid item xs={12}><Spinner /></Grid>;\n                } else {\n                    let createMessageError = null;\n\n                    if (!this.state.isFormValid) {\n                        buttonConfig['disabled'] = true;\n                    }\n\n                    let imageError = null\n                    if(this.state.imageError){\n                        imageError = (<Typography\n                            variant=\"body1\"\n                            color=\"error\"\n                        >{this.state.imageError}</Typography>)\n                    }\n\n                    let imageCards = null;\n                    if (this.state.imageFiles.length > 0) {\n                        let images = this.state.imageFiles.map((files, index) => {\n                            let imageFilePath = URL.createObjectURL(files.original);\n                            if (files.resized) {\n                                imageFilePath = files.resized;\n                            }\n\n                            return (\n                                <Grid item xs={12} sm={10} md={8} key={index}>\n                                    <ImageCard\n                                        imageURL={imageFilePath}\n                                    />\n                                </Grid>\n                            );\n                        });\n\n                        imageCards = (\n                            <Grid container justify=\"center\" style={{ margin: '20px 0px' }}>\n                                {images}\n                            </Grid>\n                        );\n                    }\n\n                    if (this.props.createMessageError) {\n                        createMessageError = (\n                            <Grid item xs={12}>\n                                <Typography\n                                    variant=\"body1\"\n                                    color=\"error\"\n                                >{this.props.createMessageError.message}</Typography>\n                            </Grid>\n                        );\n                    }\n\n                    mainContent = (\n                        <React.Fragment>\n                            <Grid item xs={12}>\n                                <form className={classes.form} >\n                                    {this.state.controls.map((formElement, index) => {\n                                        return (\n                                            <Input\n                                                key={index}\n                                                elementType={formElement.elementType}\n                                                validation={formElement.validation}\n                                                elementConfig={{ ...formElement.elementConfig, ...additionalConfig }}\n                                                value={formElement.value}\n                                                onChange={(event) => { this.inputChangedHandler(event, index) }}\n                                                needValidation={formElement.validation && formElement.modified}\n                                                required={formElement.validation && formElement.validation.required}\n                                                invalid={!formElement.valid}\n                                            />\n                                        )\n                                    }\n                                    )}\n\n                                    {/* {resizedImageCard} */}\n                                </form>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Typography variant=\"body1\">\n                                    {t('createmessage.upload_image')}\n                                </Typography>\n                                <ImageInput\n                                    multiple\n                                    onChange={(e) => this.imageChosenHandler(e)} />\n                                {imageError}\n                                {imageCards}\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    {...buttonConfig}\n                                    onClick={this.submitHandler}\n                                >\n                                    {t('createmessage.submit')}\n                                </Button>\n                            </Grid>\n                            {createMessageError}\n                        </React.Fragment>\n                    );\n                };\n            } else {\n                mainContent = (\n                    <React.Fragment>\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" className={classes.login}>\n                                {t('createmessage.must_signin')}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <GoogleButton label={t('login.google_login')} onClick={this.props.onGoogleLogin} />\n                        </Grid>\n                    </React.Fragment>\n                );\n\n            }\n        }\n\n        return (\n            <ContentContainer>\n                <Grid container justify=\"center\" spacing={2} className={classes.root}>\n                    {mainContent}\n                </Grid>\n            </ContentContainer>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.createMessage.loading,\n        createMessageError: state.createMessage.createMessageError,\n        createMessageSuccess: state.createMessage.createMessageSuccess,\n\n        loginLoading: state.auth.loading,\n        authenticated: state.auth.authenticated,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCreateMessage: (userId, message, imageFiles) => dispatch(actions.createMessage(userId, message, imageFiles)),\n        onCreateMessageReset: () => dispatch(actions.createMessageReset()),\n        onGoogleLogin: () => dispatch(actions.googleLogin()),\n        onGetMessages: () => dispatch(actions.getMessages())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)\n    (withTranslation()(\n        withStyles(styles)(CreateMessage)\n    ));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/createMessage.js",["254"],"import * as actionTypes from './actionTypes';\nimport axios from '../../network/axios';\nimport firebase from 'firebase';\nimport { app } from \"../../base\";\n\nexport const createMessageSuccess = () => {\n    return {\n        type: actionTypes.CREATE_MESSAGE_SUCCESS\n    };\n};\n\nexport const createMessageFailed = (error) => {\n    return {\n        type: actionTypes.CREATE_MESSAGE_FAILED,\n        error: error\n    };\n};\n\nexport const createMessageStart = () => {\n    return {\n        type: actionTypes.CREATE_MESSAGE_START\n    };\n}\n\nexport const createMessageReset = () => {\n    return {\n        type: actionTypes.CREATE_MESSAGE_RESET\n    };\n}\n\nconst uploadImage = async (filename, file, contentType, isBase64) => {\n    const storageRef = app.storage().ref();\n\n    let fileRef = storageRef.child(filename);\n    let downloadURL = null;\n\n\n    if (isBase64) {\n        await fileRef.putString(file, 'base64', { contentType: contentType })\n    } else {\n        await fileRef.put(file);\n    }\n    downloadURL = await fileRef.getDownloadURL();\n\n    return downloadURL;\n}\n\nexport const createMessage = (userId, message, imageFiles) => {\n    return async dispatch => {\n        dispatch(createMessageStart());\n\n        const fileNamePrefix = userId + '-' + new Date().getTime();\n        const messageImages = [];\n        const messageCopy = {...message}\n\n        for (let i = 0; i < imageFiles.length; i++) {\n            let originalImage = imageFiles[i].original;\n            let resizedImageBase64 = imageFiles[i].resized;\n\n            if (originalImage) {\n                let originalImageURL = null;\n                let image = {};\n\n                try {\n                    originalImageURL = await uploadImage(\n                        'messages/original/' + fileNamePrefix + '-' + i + '-ori',\n                        originalImage,\n                        originalImage.type,\n                        false);\n\n                    image['originalImageURL'] = originalImageURL;\n                } catch (error) {\n                    console.log(\"createMessage: uploadImage original[\"+i+\"] error \", error);\n                    dispatch(createMessageFailed(new Error('Upload original image '+i+' failed')));\n                    return;\n                }\n\n                if (resizedImageBase64) {\n                    let resizedImageURL = null;\n                    resizedImageBase64 = resizedImageBase64.substring(resizedImageBase64.indexOf(',') + 1);\n\n                    try {\n                        resizedImageURL = await uploadImage(\n                            'messages/resized/' + fileNamePrefix + '-' + i + '-r1',\n                            resizedImageBase64,\n                            // originalImage.type,\n                            'image/jpeg',\n                            true);\n\n                        image['resizedImageURL'] = resizedImageURL;\n                    } catch (error) {\n                        console.log(\"createMessage: uploadImage original[\"+i+\"] error \", error);\n                        dispatch(createMessageFailed(new Error('Upload resized image '+i+' failed')));\n                        return;\n                    }\n                }\n                messageImages.push(image);\n            }\n        }\n\n        messageCopy['imageFiles'] = messageImages;\n\n        // add order and timestamp as server timestamp\n        messageCopy['timestamp'] = firebase.firestore.FieldValue.serverTimestamp();\n        messageCopy['order'] = firebase.firestore.FieldValue.serverTimestamp();\n        messageCopy['userId'] = userId;\n\n        app.firestore().collection(\"messages\").add(messageCopy)\n            .then(response => {\n                console.log(\"createMessage: success\", response);\n                dispatch(createMessageSuccess());\n            })\n            .catch(function (error) {\n                console.log(\"createMessage: upload firestore failed\", error);\n                dispatch(createMessageFailed(new Error('Failed to create message')));\n            });\n    }\n}","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Spinner/Spinner.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Example/Centering4Ways.js",[],["255","256"],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Image/ImageCard.js",["257","258","259","260","261","262","263"],"import React from 'react';\nimport { Typography, Card, CardMedia, CardContent, Container, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst ImageCard = (props) => {\n\n    const style = {\n      height: 'auto',\n      width: '100%',\n      objectFit: 'contain'\n    }\n\n    let caption = null;\n\n    if(props.caption){\n      caption = <Typography variant=\"body1\">{props.caption}</Typography>\n    }\n\n    return (\n             <div>\n             <img \n                style={style}\n                src={props.imageURL}\n                alt='image'\n            />\n            {caption}\n            </div>\n    );\n}\n\nexport default ImageCard;","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Image/ImageInput.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/base.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/utility/Image/ImageResizer.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Navigation/Header.js",["264","265"],"import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Toolbar, Button, Typography, Tabs, Tab } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport zIndex from '@material-ui/core/styles/zIndex';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router-dom';\n\nimport * as actions from '../../store/actions/index';\n\n\nconst useStyles = makeStyles((theme) => ({\n    toolbar: {\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: 50,\n        backgroundColor: '#D3E2E6',\n        zIndex: zIndex.appBar\n    },\n    toolbarTitle: {\n        flex: 1,\n    },\n    toolbarSecondary: {\n        justifyContent: 'space-between',\n        overflowX: 'auto',\n        position: 'fixed',\n        top: 50,\n        left: 0,\n        width: '100%',\n        height: 50,\n        backgroundColor: '#D4B58A',\n        zIndex: zIndex.appBar\n    },\n    toolbarLink: {\n        padding: theme.spacing(1),\n        flexShrink: 0,\n    },\n}));\n\nconst Header = (props) => {\n    const classes = useStyles();\n    const { t, location } = props;\n\n    let logoutButton = null;\n    if (props.authenticated) {\n        logoutButton = (<Button\n            onClick={props.onLogout}\n            // variant=\"outlined\" \n            size=\"small\"\n        >\n            {t('general.logout')}\n        </Button>);\n    }\n\n    console.log(props.location);\n\n    let tabsValue = '/';\n    let paths = props.location.pathname.match(new RegExp('^/\\\\w*'));\n    if(paths){\n        switch(paths[0]) {\n            case '/lifereview':\n                tabsValue = paths[0];\n                break;\n            case '/messages':\n                tabsValue = paths[0];\n                break;\n            case '/newmessage':\n                tabsValue=paths[0];\n                break;\n            default:\n                tabsValue='/';\n                break;\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <Toolbar className={classes.toolbar}>\n                <Typography\n                    component=\"h2\"\n                    variant=\"h5\"\n                    color=\"inherit\"\n                    align=\"center\"\n                    noWrap\n                    className={classes.toolbarTitle}\n                >\n                    {t('header.title')}\n                </Typography>\n                {logoutButton}\n            </Toolbar>\n            <Toolbar variant=\"dense\"\n                className={classes.toolbarSecondary}\n            >\n                {/* <Link to=\"/\">Life</Link>\n        <Link to=\"/messages\">Messages</Link>\n        <Link to=\"/newmessage\">New Message</Link> */}\n                <Tabs value={tabsValue}>\n                    <Tab\n                        label={t('toolbar.news')}\n                        component={Link}\n                        to=\"/\"\n                        value=\"/\"\n                    />\n                    <Tab\n                        label={t('toolbar.life')}\n                        component={Link}\n                        to=\"/lifereview\"\n                        value=\"/lifereview\"\n                    />\n                    <Tab\n                        label={t('toolbar.messages')}\n                        component={Link}\n                        to=\"/messages\"\n                        value=\"/messages\"\n                    />\n                    <Tab\n                        label={t('toolbar.new_message')}\n                        component={Link}\n                        to=\"/newmessage\"\n                        value=\"/newmessage\"\n                    />\n                </Tabs>\n            </Toolbar>\n        </React.Fragment>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        authenticated: state.auth.authenticated\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onLogout: () => dispatch(actions.logout())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withRouter(Header)));","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/auth.js",["266"],"import firebase from 'firebase';\nimport * as actionTypes from './actionTypes';\nimport { app } from \"../../base\";\n\nexport const loginSuccess = (authProvider, userId) => {\n    return {\n        type: actionTypes.LOGIN_SUCCESS,\n        authProvider: authProvider,\n        userId: userId\n    };\n};\n\nexport const loginFailed = (error) => {\n    return {\n        type: actionTypes.LOGIN_FAILED,\n        error: error\n    };\n};\n\nexport const loginStart = () => {\n    return {\n        type: actionTypes.LOGIN_START\n    };\n}\n\nconst getGoogleProvider = () => {\n\n    const provider = new firebase.auth.GoogleAuthProvider();\n    provider.addScope('https://www.googleapis.com/auth/userinfo.email');\n    // provider.setCustomParameters({\n    //     'login_hint': 'user@example.com'\n    // });\n\n    return provider;\n}\n\nexport const googleLogin = () => {\n    return dispatch => {\n        dispatch(loginStart());\n\n        firebase.auth()\n            .signInWithPopup(getGoogleProvider())\n            .then((result) => {\n                /** @type {firebase.auth.OAuthCredential} */\n                const credential = result.credential;\n\n                dispatch(loginSuccess('google.com', result.user.uid));\n            }).catch((error) => {\n                dispatch(loginFailed(error));\n            });\n    }\n}\n\nexport const logoutSuccess = () => {\n    return {\n        type: actionTypes.LOGOUT_SUCCESS\n    };\n};\n\nexport const logoutFailed = (error) => {\n    return {\n        type: actionTypes.LOGOUT_FAILED,\n        error: error\n    };\n};\n\nexport const logoutStart = () => {\n    return {\n        type: actionTypes.LOGOUT_START\n    };\n}\n\nexport const logout = () => {\n    return dispatch => {\n        dispatch(logoutStart());\n\n        firebase.auth().signOut()\n            .then((result) => {\n                dispatch(logoutSuccess());\n            }).catch((error) => {\n                dispatch(logoutFailed(error));\n            });\n    }\n}\n\nexport const initAuth = () => {\n    return dispatch => {\n        // set firebase user token persistent to local storage\n        app.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n            .then(() => {\n                console.log('set firebase persistence success');\n            })\n            .catch((error) => {\n                console.log('set firebase persistence failed', error);\n            })\n            .finally(() => {\n                app.auth().onAuthStateChanged(function(user) {\n                    console.log('onAuthStateChanged', user);\n                    dispatch(refreshLoginState());\n                  });\n            });\n    }\n}\n\nexport const refreshLoginState = () => {\n    return dispatch => {\n        const user = app.auth().currentUser;\n\n        if (user === null) {\n            dispatch(logout());\n            console.log('refreshLoginState user = null');\n        } else {\n            console.log('refreshLoginState user = '+user.uid);\n            dispatch(loginSuccess('google.com', user.uid));\n        }\n    }\n}","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/auth.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/ContentContainer/ContentContainer.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Cards/ErrorCard.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Cards/MessageCard.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/i18n.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/CreateMessage/UpdateMessage.js",["267","268","269","270","271","272","273"],"import React, { Component } from 'react';\nimport { Button, Grid, Typography, Dialog, DialogContent, DialogTitle, Container } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\n\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport MessageCard from '../../components/UI/Cards/MessageCard';\nimport GoogleButton from 'react-google-button'\nimport MessageForm from '../../components/Message/MessageForm';\n\nconst styles = theme => ({\n});\n\nclass UpdateMessage extends Component {\n\n    getMessageId = () => {\n        // const { pathname } = this.props.location;\n        // return decodeURI(pathname.substring(pathname.lastIndexOf('/') + 1));\n        return this.props.messageId;\n    }\n\n    submitHandler = (message, imageModified, imageFiles) => {\n        this.props.onUpdateMessage(            \n            this.props.userId, \n            this.getMessageId(),\n            message, \n            imageModified, \n            imageFiles\n        );\n\n    }\n    \n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes } = this.props;\n\n        if (this.props.updateMessageSuccess) {\n            mainContent = (\n                <Grid item xs={12}>\n                    <MessageCard\n                        message={t('updatemessage.success')}\n                        actionText={t('general.ok')}\n                        onAction={this.props.onSuccess} />\n                </Grid>\n            );\n        }\n        else {\n            if (this.props.authenticated) {\n\n                if (!this.props.message || this.props.loading) {\n                    mainContent = <Grid item xs={12}><Spinner /></Grid>;\n                } else {\n                    let updateMessageError = null;\n\n                    if (this.props.updateMessageError) {\n                        updateMessageError = (\n                            <Grid item xs={12}>\n                                <Typography\n                                    variant=\"body1\"\n                                    color=\"error\"\n                                >{this.props.updateMessageError.message}</Typography>\n                            </Grid>\n                        );\n                    }\n\n                    mainContent = (\n                        <React.Fragment>\n                            <Grid item xs={12}>\n                                <MessageForm\n                                    message={this.props.message}\n                                    onSubmit={this.submitHandler}\n                                    onCancel={this.props.onCancel}\n                                />\n                            </Grid>\n                            {updateMessageError}\n                        </React.Fragment>\n                    );\n                };\n            } else {\n                mainContent = (\n                    <React.Fragment>\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" >\n                                {t('general.must_signin')}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <GoogleButton label={t('login.google_login')} onClick={this.props.onGoogleLogin} />\n                        </Grid>\n                    </React.Fragment>\n                );\n\n            }\n        }\n\n        return (\n            <Dialog open={this.props.show} >   \n                <DialogContent>\n                    <Grid container justify=\"center\" spacing={2}>\n                        <Grid item xs={12}>\n                        <Typography variant=\"h4\">\n                            {t('updatemessage.title')}\n                        </Typography>\n                    </Grid>\n                        {mainContent}\n                    </Grid>\n                </DialogContent>\n\n            </Dialog>\n            \n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.updateMessage.loading,\n        updateMessageError: state.updateMessage.error,\n        updateMessageSuccess: state.updateMessage.updateMessageSuccess,\n\n        loginLoading: state.auth.loading,\n        authenticated: state.auth.authenticated,\n        userId: state.auth.userId,\n\n        message: state.updateMessage.message\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateMessage: (userId, messageId, message, imageModified, imageFiles) => dispatch(actions.updateMessage(userId, messageId, message, imageModified, imageFiles)),\n        onGoogleLogin: () => dispatch(actions.googleLogin())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)\n    (withTranslation()(\n        withStyles(styles)(UpdateMessage)\n    ));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Message/MessageForm.js",["274","275","276","277"],"import React, { Component } from 'react';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\n\nimport Input from '../UI/Input/Input'\nimport { checkFormFieldValid, updateArray } from '../../utility/utility';\nimport ImageInput from '../UI/Image/ImageInput';\nimport ImageCard from '../UI/Image/ImageCard';\nimport { resizeImage } from '../../utility/Image/ImageResizer';\n\nconst styles = theme => ({\n    form: {\n        '& .MuiTextField-root': {\n            // boxSizing: 'border-box',\n            margin: '20px 0px',\n            width: '100%',\n            display: 'block'\n        },\n        width: '100%'\n    },\n    button: {\n        margin: 10\n    }\n});\n\nclass MessageForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const {t, message} = props;\n\n        this.state= {\n            controls: [\n                {\n                    id: 'author',\n                    elementType: 'textarea',\n                    elementConfig: {\n                        label: props.t('createmessage.name'),\n                        rows: 2\n                    },\n                    value: props.message\n                        ? props.message.author\n                        :'',\n                    validation: {\n                        required: true\n                    },\n                    valid: props.message? true : false,\n                    modified: false\n                },\n                {\n                    id: 'content',\n                    elementType: 'textarea',\n                    elementConfig: {\n                        label: props.t('createmessage.message'),\n                        rows: 15\n                    },\n                    value: props.message\n                        ? props.message.content\n                        :'',\n                    validation: {\n                        required: true\n                    },\n                    valid: props.message? true : false,\n                    modified: false\n                }\n            ],\n            isFormValid: props.message? true : false,\n            imageModified: false,\n            imageError: null,\n            imageFiles: [] // {original: file, resized: base64}\n        }\n    }\n\n    checkFormValid(form) {\n        return form.map((field) => {\n            if (!field.validation)\n                return true;\n            else\n                return field.valid;\n        }).reduce((accum, field) => {\n            return accum && field;\n        }, true);\n    }\n\n    submitHandler = (event) => {\n        // event.preventDefault();\n\n        const message = {};\n\n        if (this.checkFormValid(this.state.controls)) {\n            this.state.controls.forEach(control => {\n                message[control.id] = control.value;\n            });\n\n            this.props.onSubmit(\n                message,\n                this.state.imageModified,\n                this.state.imageFiles);\n        }\n    }\n\n    cancelHandler = () => {\n        this.props.onCancel();\n    }\n\n    inputChangedHandler = (event, configIndex) => {\n        const updatedControls = updateArray(this.state.controls,\n            {\n                ...this.state.controls[configIndex],\n                value: event.target.value,\n                valid: checkFormFieldValid(event.target.value, this.state.controls[configIndex].validation),\n                modified: true\n            },\n            configIndex\n        );\n        //console.log(updatedControls);\n        this.setState({\n            controls: updatedControls,\n            isFormValid: this.checkFormValid(updatedControls)\n        });\n    }\n\n    resetForm = () => {\n        const newControls = this.state.controls.map(control => {\n            return {\n                ...control, ...{\n                    value: '',\n                    valid: false,\n                    modified: false\n                }\n            };\n        });\n\n        this.setState({\n            controls: newControls,\n            isFormValid: false,\n            imageError: null,\n            imageModified: false,\n            imageFiles: []\n        });\n    }\n\n    validateImage = (file) => {\n        if(file.type !== 'image/jpeg' \n            && file.type !== 'image/x-png'\n            && file.type !== 'image/png'){\n            return this.props.t('createmessage.errors.image_format');\n        }\n\n        if(file.size > 10485760){\n            return this.props.t('createmessage.errors.image_size');\n        }\n\n        return null;\n    }\n\n    imageChosenHandler = async (event) => {\n        const imageFilesList = event.target.files;\n        const inputValue = event.target.value;\n\n        if (imageFilesList) {\n            const imageFiles = [];\n\n            for (let i = 0; i < imageFilesList.length; i++) {\n                let file = imageFilesList[i];\n                let imageError = null;\n\n                imageError = this.validateImage(file);\n                if(imageError !== null){\n                    this.setState({\n                        imageFiles: [],\n                        imageError: imageError,\n                        imageModified: true\n                    });\n\n                    return;\n                }\n                imageFiles.push({ original: file });\n            }\n\n            for (let index = 0; index < imageFiles.length; index++) {\n                let file = imageFiles[index];\n                let contentType = null;\n\n                contentType = 'JPEG';\n\n                try{\n                    imageFiles[index]['resized'] = await resizeImage(file.original, contentType);\n                }catch(error){\n                    console.log(error);\n                    this.setState({\n                        imageFiles: [],\n                        imageError: this.props.t('createmessage.errors.image_resize'),\n                        imageModified: true\n                    });\n\n                    return;\n                }\n            };\n\n            this.setState({\n                imageFiles: imageFiles,\n                imageError: null,\n                imageModified: true\n            });\n\n        } else {\n            this.setState({\n                imageFiles: [],\n                imageError: null,\n                imageModified: true\n            });\n        }\n    }\n\n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes, message } = this.props;\n\n        if (!this.state.isFormValid) {\n            buttonConfig['disabled'] = true;\n        }\n\n        let imageCards = null;\n        let images = null;\n\n        let imageError = null\n        if(this.state.imageError){\n            imageError = (<Typography\n                variant=\"body1\"\n                color=\"error\"\n            >{this.state.imageError}</Typography>)\n        }\n\n        if (this.state.imageFiles.length > 0) {\n            images = this.state.imageFiles.map((files, index) => {\n                let imageFilePath = URL.createObjectURL(files.original);\n                if (files.resized) {\n                    imageFilePath = files.resized;\n                }\n\n                return (\n                    <Grid item xs={12} sm={10} md={8} key={index}>\n                        <ImageCard\n                            imageURL={imageFilePath}\n                        />\n                    </Grid>\n                );\n            });\n        }else if (!this.state.imageModified && message && message.imageFiles.length > 0) {\n            images = message.imageFiles.map((files, index) => {\n                let imageFilePath = files.resizedImageURL;\n\n                return (\n                    <Grid item xs={12} sm={10} md={8} key={index}>\n                        <ImageCard\n                            imageURL={imageFilePath}\n                        />\n                    </Grid>\n                );\n            });\n        }\n\n        if(images){\n            imageCards = (\n                <Grid container justify=\"center\" style={{ margin: '20px 0px' }}>\n                    {images}\n                </Grid>\n            );\n        }\n\n        return (\n            <Grid container justify=\"center\" spacing={2} >\n                <Grid item xs={12}>\n                    <form className={classes.form} >\n                        {this.state.controls.map((formElement, index) => {\n                            return (\n                                <Input\n                                    key={index}\n                                    elementType={formElement.elementType}\n                                    validation={formElement.validation}\n                                    elementConfig={{ ...formElement.elementConfig, ...additionalConfig }}\n                                    value={formElement.value}\n                                    onChange={(event) => { this.inputChangedHandler(event, index) }}\n                                    needValidation={formElement.validation && formElement.modified}\n                                    required={formElement.validation && formElement.validation.required}\n                                    invalid={!formElement.valid}\n                                />\n                            )\n                        }\n                        )}\n                    </form>\n                </Grid>\n                <Grid item xs={12}>\n                    <Typography variant=\"body1\">\n                        {t('createmessage.upload_image')}\n                    </Typography>\n                    <ImageInput\n                        multiple\n                        onChange={(e) => this.imageChosenHandler(e)} />\n                    {imageError}\n                    {imageCards}\n                </Grid>\n                <Grid item xs={12}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                        {...buttonConfig}\n                        onClick={this.submitHandler}\n                    >\n                        {t('createmessage.submit')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={this.cancelHandler}\n                    >\n                        {t('general.cancel')}\n                    </Button>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\n/**\n * expected props:\n * message: message object for initial display\n * onSubmit: when submit button clicked\n */\n\n\nexport default withTranslation()(withStyles(styles)(MessageForm));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/updateMessage.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/updateMessage.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/CreateArticle.js",["278","279","280"],"import React, { Component } from 'react';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\n\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport MessageCard from '../../components/UI/Cards/MessageCard';\nimport GoogleButton from 'react-google-button'\nimport ArticleForm from '../../components/Article/ArticleForm';\n\nconst styles = theme => ({\n    root: {\n        paddingBottom: 100\n    },\n    login: {\n        paddingTop: 50\n    },\n    form: {\n        '& .MuiTextField-root': {\n            // boxSizing: 'border-box',\n            margin: '20px 0px',\n            width: '100%',\n            display: 'block'\n        },\n        width: '100%'\n    }\n});\n\nclass CreateArticle extends Component {\n\n    state = {\n        article: null\n    };\n    \n    submitHandler = (article, imageModified, imageFiles) => {\n        //save article for retaining user input after error\n        this.setState({\n            article: article\n        });\n\n        this.props.onCreateArticle(\n            this.props.userId,\n            article,\n            imageFiles);\n    }\n\n    successHandler = () => {\n        this.setState({article: null});\n        this.props.onCreateArticleReset();\n        // this.props.onGetLifeReview();\n    }\n\n    cancelHandler = () => {\n\n    }\n\n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes } = this.props;\n\n        if (this.props.createArticleSuccess) {\n            mainContent = <Grid item xs={12} >\n                <MessageCard\n                    message={t('createarticle.submit_success')}\n                    actionText={t('general.ok')}\n                    onAction={this.successHandler} />\n            </Grid>;\n        }\n        else {\n            if (this.props.authenticated) {\n\n                if (this.props.loading) {\n                    mainContent = <Grid item xs={12}><Spinner /></Grid>;\n                } else {\n                    let createArticleError = null;\n\n                    if (this.props.createArticleError) {\n                        createArticleError = (\n                            <Grid item xs={12}>\n                                <Typography\n                                    variant=\"body1\"\n                                    color=\"error\"\n                                >{this.props.createArticleError.message}</Typography>\n                            </Grid>\n                        );\n                    }\n\n                    mainContent = (\n                        <React.Fragment>\n                            <Grid item xs={12}>\n                                <ArticleForm\n                                    article={this.state.article}\n                                    onSubmit={this.submitHandler}\n                                    onCancel={this.cancelHandler}\n                                />\n                            </Grid>\n                            {createArticleError}\n                        </React.Fragment>\n                    );\n                };\n            } else {\n                mainContent = (\n                    <React.Fragment>\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" className={classes.login}>\n                                {t('createarticle.must_signin')}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <GoogleButton label={t('login.google_login')} onClick={this.props.onGoogleLogin} />\n                        </Grid>\n                    </React.Fragment>\n                );\n\n            }\n        }\n\n        return (\n            <ContentContainer>\n                <Grid container justify=\"center\" spacing={2} className={classes.root}>\n                    {mainContent}\n                </Grid>\n            </ContentContainer>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.createArticle.loading,\n        createArticleError: state.createArticle.createArticleError,\n        createArticleSuccess: state.createArticle.createArticleSuccess,\n\n        loginLoading: state.auth.loading,\n        authenticated: state.auth.authenticated,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCreateArticle: (userId, article, imageFiles) => dispatch(actions.createArticle(userId, article, imageFiles)),\n        onCreateArticleReset: () => dispatch(actions.createArticleReset()),\n        onGoogleLogin: () => dispatch(actions.googleLogin())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)\n    (withTranslation()(\n        withStyles(styles)(CreateArticle)\n    ));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/Article/ArticleForm.js",["281","282","283"],"import React, { Component } from 'react';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\n\nimport Input from '../UI/Input/Input'\nimport { checkFormFieldValid, updateArray } from '../../utility/utility';\nimport ImageInput from '../UI/Image/ImageInput';\nimport ImageCard from '../UI/Image/ImageCard';\nimport { resizeImage } from '../../utility/Image/ImageResizer';\n\nconst styles = theme => ({\n    form: {\n        '& .MuiTextField-root': {\n            // boxSizing: 'border-box',\n            margin: '20px 0px',\n            width: '100%',\n            display: 'block'\n        },\n        width: '100%'\n    },\n    button: {\n        margin: 10\n    }\n});\n\nclass ArticleForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            controls: [\n                {\n                    id: 'title',\n                    elementType: 'textarea',\n                    elementConfig: {\n                        label: props.t('createarticle.title'),\n                        rows: 2\n                    },\n                    visibleType: 'article',\n                    value: props.article\n                        ? props.article.title\n                        : ''\n                },\n                {\n                    id: 'content',\n                    elementType: 'textarea',\n                    elementConfig: {\n                        label: props.t('createarticle.content'),\n                        rows: 15\n                    },\n                    visibleType: 'article',\n                    value: props.article\n                        ? props.article.content\n                        : ''\n                },\n                {\n                    id: 'caption',\n                    elementType: 'textarea',\n                    elementConfig: {\n                        label: props.t('createarticle.caption'),\n                        rows: 2\n                    },\n                    visibleType: 'image',\n                    value: props.article\n                        ? props.article.caption\n                        : ''\n                },\n            ],\n            isFormValid: props.article ? true : false,\n            imageModified: false,\n            imageError: null,\n            imageFiles: [] // {original: file, resized: base64}\n        }\n    }\n\n    checkFormValid(hasImage, form) {\n        return hasImage || form.map((field) => {\n            return (field.value && field.value.trim() !== '');\n        }).reduce((accum, field) => {\n            return accum || field;\n        }, false);\n    }\n\n    submitHandler = (event) => {\n        // event.preventDefault();\n\n        const article = {};\n\n        if (this.checkFormValid(this.state.imageFiles.length > 0, this.state.controls)) {\n            this.state.controls.forEach(control => {\n                article[control.id] = control.value;\n            });\n\n            if (this.props.article)\n                article['type'] = this.props.article.type;\n\n            this.props.onSubmit(\n                article,\n                this.state.imageModified,\n                this.state.imageFiles);\n        }\n    }\n\n    cancelHandler = () => {\n        this.props.onCancel();\n    }\n\n    inputChangedHandler = (event, id) => {\n        let configIndex = -1;\n        let formElement = null;\n        const controls = this.state.controls;\n\n        for(let i=0;i<controls.length;i++){\n            if(controls[i].id === id){\n                configIndex = i;\n                formElement = controls[i];\n                break;\n            }\n        }\n\n        const updatedControls = updateArray(this.state.controls,\n            {\n                ...formElement,\n                value: event.target.value\n            },\n            configIndex\n        );\n\n        this.setState({\n            controls: updatedControls,\n            isFormValid: this.checkFormValid(this.state.imageFiles.length > 0, updatedControls)\n        });\n    }\n\n    resetForm = () => {\n        const newControls = this.state.controls.map(control => {\n            return {\n                ...control, ...{\n                    value: ''\n                }\n            };\n        });\n\n        this.setState({\n            controls: newControls,\n            isFormValid: false,\n            imageError: null,\n            imageModified: false,\n            imageFiles: []\n        });\n    }\n\n    validateImage = (file) => {\n        if (file.type !== 'image/jpeg'\n            && file.type !== 'image/x-png'\n            && file.type !== 'image/png') {\n            return this.props.t('createarticle.errors.image_format');\n        }\n\n        if (file.size > 10485760) {\n            return this.props.t('createarticle.errors.image_size');\n        }\n\n        return null;\n    }\n\n    imageChosenHandler = async (event) => {\n        const imageFilesList = event.target.files;\n        const inputValue = event.target.value;\n\n        if (imageFilesList) {\n            const imageFiles = [];\n\n            for (let i = 0; i < imageFilesList.length; i++) {\n                let file = imageFilesList[i];\n                let imageError = null;\n\n                imageError = this.validateImage(file);\n                if (imageError !== null) {\n                    this.setState({\n                        imageFiles: [],\n                        imageError: imageError,\n                        imageModified: true,\n                        isFormValid: this.checkFormValid(false, this.state.controls)\n                    });\n\n                    return;\n                }\n                imageFiles.push({ original: file });\n            }\n\n            for (let index = 0; index < imageFiles.length; index++) {\n                let file = imageFiles[index];\n                let contentType = null;\n\n                contentType = 'JPEG';\n\n                try {\n                    imageFiles[index]['resized'] = await resizeImage(file.original, contentType);\n                } catch (error) {\n                    console.log(error);\n                    this.setState({\n                        imageFiles: [],\n                        imageError: this.props.t('createarticle.errors.image_resize'),\n                        imageModified: true,\n                        isFormValid: this.checkFormValid(false, this.state.controls)\n                    });\n\n                    return;\n                }\n            };\n\n            this.setState({\n                imageFiles: imageFiles,\n                imageError: null,\n                imageModified: true,\n                isFormValid: this.checkFormValid(imageFiles.length > 0, this.state.controls)\n            });\n\n        } else {\n            this.setState({\n                imageFiles: [],\n                imageError: null,\n                imageModified: true,\n                isFormValid: this.checkFormValid(false, this.state.controls)\n            });\n        }\n    }\n\n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes, article } = this.props;\n\n        if (!this.state.isFormValid) {\n            buttonConfig['disabled'] = true;\n        }\n\n        let imageCards = null;\n        let images = null;\n        let imageError = null;\n        let imageInput = null;\n\n        if (!this.props.article || this.props.article.type === 'image') {\n\n            if (this.state.imageError) {\n                imageError = (<Typography\n                    variant=\"body1\"\n                    color=\"error\"\n                >{this.state.imageError}</Typography>)\n            }\n\n            if (this.state.imageFiles.length > 0) {\n                images = this.state.imageFiles.map((files, index) => {\n                    let imageFilePath = URL.createObjectURL(files.original);\n                    if (files.resized) {\n                        imageFilePath = files.resized;\n                    }\n\n                    return (\n                        <Grid item xs={12} sm={10} md={8} key={index}>\n                            <ImageCard\n                                imageURL={imageFilePath}\n                            />\n                        </Grid>\n                    );\n                });\n            } else if (!this.state.imageModified && article) {\n                images = [(\n                    <Grid item xs={12} sm={10} md={8} key=\"1\">\n                        <ImageCard\n                            imageURL={article.resizedImageURL}\n                        />\n                    </Grid>\n                )];\n            }\n\n            if (images) {\n                imageCards = (\n                    <Grid container justify=\"center\" style={{ margin: '20px 0px' }}>\n                        {images}\n                    </Grid>\n                );\n            }\n\n            imageInput = (\n                <React.Fragment>\n                    <Typography variant=\"body1\">\n                        {t('createarticle.upload_image')}\n                    </Typography>\n                    <ImageInput\n                        onChange={(e) => this.imageChosenHandler(e)} />\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <Grid container justify=\"center\" spacing={2} >\n                <Grid item xs={12}>\n                    <form className={classes.form} >\n                        {this.state.controls\n                            .filter(element => !this.props.article\n                                || this.props.article.type === element.visibleType)\n                            .map((formElement, index) => {\n                                return (\n                                    <Input\n                                        key={index}\n                                        elementType={formElement.elementType}\n                                        validation={formElement.validation}\n                                        elementConfig={{ ...formElement.elementConfig, ...additionalConfig }}\n                                        value={formElement.value}\n                                        onChange={(event) => { this.inputChangedHandler(event, formElement.id) }}\n                                        needValidation={formElement.validation && formElement.modified}\n                                        required={formElement.validation && formElement.validation.required}\n                                        invalid={!formElement.valid}\n                                    />\n                                )\n                            }\n                            )}\n                    </form>\n                </Grid>\n                <Grid item xs={12}>\n                    {imageInput}\n                    {imageError}\n                    {imageCards}\n                </Grid>\n                <Grid item xs={12}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                        {...buttonConfig}\n                        onClick={this.submitHandler}\n                    >\n                        {t('createarticle.submit')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={this.cancelHandler}\n                    >\n                        {t('general.cancel')}\n                    </Button>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\n/**\n * expected props:\n * article: article object for initial display\n * onSubmit: when submit button clicked\n */\n\n\nexport default withTranslation()(withStyles(styles)(ArticleForm));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/createArticle.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/createArticle.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/actions/updateArticle.js",["284"],"import * as actionTypes from './actionTypes';\nimport firebase from 'firebase';\nimport { app } from \"../../base\";\n\nexport const getArticleSuccess = (article) => {\n    return {\n        type: actionTypes.GET_ARTICLE_SUCCESS,\n        article: article\n    };\n};\n\nexport const getArticleFailed = (error) => {\n    return {\n        type: actionTypes.GET_ARTICLE_FAILED,\n        error: error\n    };\n};\n\nexport const getArticleStart = () => {\n    return {\n        type: actionTypes.GET_ARTICLE_START\n    };\n}\n\nexport const getArticle = (articleId) => {\n    return dispatch => {\n        dispatch(getArticleStart());\n\n        app.firestore().collection(\"lifereview\").doc(articleId).get()\n            .then(snapshot => {\n                if (snapshot.exists) {\n                    dispatch(getArticleSuccess(\n                        {\n                            ...snapshot.data(),\n                            ...{ id: snapshot.id }\n                        }\n                    ));\n                } else {\n                    dispatch(getArticleFailed(new Error('errors.record_not_found')));\n                }\n            })\n            .catch(err => {\n                dispatch(getArticleFailed(err));\n            });\n    }\n}\n\nexport const updateArticleSuccess = () => {\n    return {\n        type: actionTypes.UPDATE_ARTICLE_SUCCESS\n    };\n};\n\nexport const updateArticleFailed = (error) => {\n    return {\n        type: actionTypes.UPDATE_ARTICLE_FAILED,\n        error: error\n    };\n};\n\nexport const updateArticleStart = () => {\n    return {\n        type: actionTypes.UPDATE_ARTICLE_START\n    };\n}\n\nconst uploadImage = async (filename, file, contentType, isBase64) => {\n    const storageRef = app.storage().ref();\n\n    let fileRef = storageRef.child(filename);\n    let downloadURL = null;\n\n\n    if (isBase64) {\n        await fileRef.putString(file, 'base64', { contentType: contentType })\n    } else {\n        await fileRef.put(file);\n    }\n    downloadURL = await fileRef.getDownloadURL();\n\n    return downloadURL;\n}\n\nconst deleteImage = async (filename) => {\n    const storageRef = app.storage().ref();\n    let fileRef = storageRef.child(filename);\n\n    await fileRef.delete();\n}\n\nexport const updateArticleReset = () => {\n    return {\n        type: actionTypes.UPDATE_ARTICLE_RESET\n    };\n}\n\nexport const updateArticle = (userId, articleId, article, imageModified, imageFiles) => {\n    return async dispatch => {\n        dispatch(updateArticleStart());\n\n        if (article.type === 'image') {\n            const updateArticle = {};\n\n            if (!imageModified) {\n                dispatch(updateArticleSuccess());\n                return;\n            }\n\n            if(imageFiles.length == 0){\n                dispatch(updateArticleSuccess());\n                return;\n            }\n\n            const fileNamePrefix = userId + '-' + new Date().getTime();\n            let originalImage = imageFiles[0].original;\n            let resizedImageBase64 = imageFiles[0].resized;\n\n            if (originalImage) {\n                let originalImageURL = null;\n\n                try {\n                    originalImageURL = await uploadImage(\n                        'lifereview/original/' + fileNamePrefix + '-0-ori',\n                        originalImage,\n                        originalImage.type,\n                        false);\n\n                        updateArticle['originalImageURL'] = originalImageURL;\n                        updateArticle['originalImageFilename'] = fileNamePrefix + '-0-ori';\n                } catch (error) {\n                    console.log(\"updateArticle: uploadImage original error \", error);\n                    dispatch(updateArticleFailed(new Error('Upload original image failed')));\n                    return;\n                }\n\n                if (resizedImageBase64) {\n                    let resizedImageURL = null;\n                    resizedImageBase64 = resizedImageBase64.substring(resizedImageBase64.indexOf(',') + 1);\n\n                    try {\n                        resizedImageURL = await uploadImage(\n                            'lifereview/resized/' + fileNamePrefix + '-0-r1',\n                            resizedImageBase64,\n                            // originalImage.type,\n                            'image/jpeg',\n                            true);\n\n                            updateArticle['resizedImageURL'] = resizedImageURL;\n                            updateArticle['resizedImageFilename'] = fileNamePrefix + '-0-r1';\n                    } catch (error) {\n                        console.log(\"updateArticle: uploadImage original error \", error);\n                        dispatch(updateArticleFailed(new Error('Upload resized image failed')));\n                        return;\n                    }\n                }\n            }\n\n            updateArticle['update_timestamp'] = firebase.firestore.FieldValue.serverTimestamp();\n            updateArticle['caption'] = article.caption;\n\n            try {\n                await app.firestore().collection(\"lifereview\").doc(articleId).update(updateArticle);\n                dispatch(updateArticleSuccess());\n            } catch (error) {\n                console.log(\"updateArticle: upload firestore failed\", error);\n                dispatch(updateArticleFailed(new Error('Failed to update article')));\n            }\n            \n        }else if(article.type === 'article'){\n            try {\n                await app.firestore().collection(\"lifereview\").doc(articleId).update({\n                    update_timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                    title: article.title,\n                    content: article.content\n                });\n                dispatch(updateArticleSuccess());\n            } catch (error) {\n                console.log(\"updateArticle: upload firestore failed\", error);\n                dispatch(updateArticleFailed(new Error('Failed to update article')));\n            }\n        }\n    }\n}\n\nexport const deleteArticleSuccess = () => {\n    return {\n        type: actionTypes.DELETE_ARTICLE_SUCCESS\n    };\n};\n\nexport const deleteArticleFailed = (error) => {\n    return {\n        type: actionTypes.DELETE_ARTICLE_FAILED,\n        error: error\n    };\n};\n\nexport const deleteArticleStart = () => {\n    return {\n        type: actionTypes.DELETE_ARTICLE_START\n    };\n}\n\nexport const deleteArticle = (articleId, article) => {\n    return async dispatch => {\n        dispatch(deleteArticleStart());\n\n        if (article.type === 'image') {\n            try {\n                await deleteImage('lifereview/original/' +article.originalImageFilename);\n                await deleteImage('lifereview/resized/' +article.resizedImageFilename);\n                await app.firestore().collection(\"lifereview\").doc(articleId).delete();\n                dispatch(deleteArticleSuccess());\n            } catch (error) {\n                console.log(error);\n                dispatch(deleteArticleFailed(error));\n            }\n            \n        }else if(article.type === 'article'){\n            try {\n                await app.firestore().collection(\"lifereview\").doc(articleId).delete();\n                dispatch(deleteArticleSuccess());\n            } catch (error) {\n                console.log(error);\n                dispatch(deleteArticleFailed(error));\n            }\n        }\n    }\n}","/Users/dominic/workspace/dad_page/dad-page-frontend/src/store/reducers/updateArticle.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/Articles/UpdateArticle.js",["285","286","287"],"import React, { Component } from 'react';\nimport { Dialog, DialogContent, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\n\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport MessageCard from '../../components/UI/Cards/MessageCard';\nimport GoogleButton from 'react-google-button'\nimport ArticleForm from '../../components/Article/ArticleForm';\n\nconst styles = theme => ({\n\n});\n\nclass UpdateArticle extends Component {\n\n    submitHandler = (article, imageModified, imageFiles) => {\n        this.props.onUpdateArticle(\n            this.props.userId,\n            this.props.articleId,\n            article,\n            imageModified,\n            imageFiles);\n    }\n\n    render() {\n        const additionalConfig = { fullWidth: true };\n        const buttonConfig = {};\n        let mainContent = null;\n        const { t, classes } = this.props;\n\n        if (this.props.updateArticleSuccess) {\n            mainContent = <Grid item xs={12} >\n                <MessageCard\n                    message={t('updatearticle.submit_success')}\n                    actionText={t('general.ok')}\n                    onAction={this.props.onSuccess} />\n            </Grid>;\n        }\n        else {\n            if (this.props.authenticated) {\n\n                if (!this.props.article || this.props.loading) {\n                    mainContent = <Grid item xs={12}><Spinner /></Grid>;\n                } else {\n                    let updateArticleError = null;\n\n                    if (this.props.updateArticleError) {\n                        updateArticleError = (\n                            <Grid item xs={12}>\n                                <Typography\n                                    variant=\"body1\"\n                                    color=\"error\"\n                                >{this.props.updateArticleError.message}</Typography>\n                            </Grid>\n                        );\n                    }\n\n                    mainContent = (\n                        <React.Fragment>\n                            <Grid item xs={12}>\n                                <ArticleForm\n                                    article={this.props.article}\n                                    onSubmit={this.submitHandler}\n                                    onCancel={this.props.onCancel}\n                                />\n                            </Grid>\n                            {updateArticleError}\n                        </React.Fragment>\n                    );\n                };\n            } else {\n                mainContent = (\n                    <React.Fragment>\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" className={classes.login}>\n                                {t('updatearticle.must_signin')}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <GoogleButton label={t('login.google_login')} onClick={this.props.onGoogleLogin} />\n                        </Grid>\n                    </React.Fragment>\n                );\n\n            }\n        }\n\n        return (\n            <Dialog open={this.props.show} >\n                <DialogContent>\n                    <Grid container justify=\"center\" spacing={2}>\n                        <Grid item xs={12}>\n                            <Typography variant=\"h4\">\n                                {t('updatearticle.title')}\n                            </Typography>\n                        </Grid>\n                        {mainContent}\n                    </Grid>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.updateArticle.loading,\n        updateArticleError: state.updateArticle.updateArticleError,\n        updateArticleSuccess: state.updateArticle.updateArticleSuccess,\n\n        loginLoading: state.auth.loading,\n        authenticated: state.auth.authenticated,\n        userId: state.auth.userId,\n\n        article: state.updateArticle.article\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateArticle: (userId, articleId, article, imageModified, imageFiles) => dispatch(actions.updateArticle(userId, articleId, article, imageModified, imageFiles)),\n        onGoogleLogin: () => dispatch(actions.googleLogin())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)\n    (withTranslation()(\n        withStyles(styles)(UpdateArticle)\n    ));\n","/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Dialogs/OkDialog.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/components/UI/Dialogs/OkCancelDialog.js",[],"/Users/dominic/workspace/dad_page/dad-page-frontend/src/containers/News/News.js",["288","289","290","291"],"import React, { Component } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport titleImage from '../../assets/venice.jpg'\nimport profileImage from '../../assets/profile.jpeg'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ArticleItems from '../Articles/ArticleItems';\nimport ContentContainer from '../../components/UI/ContentContainer/ContentContainer';\nimport { withTranslation } from 'react-i18next';\n\nconst styles = theme => ({\n    root: {\n        paddingBottom: 100\n    },\n    titleImageDiv: {\n        overflow: 'hidden'\n    },\n    titleImage: {\n\n        objectFit: 'cover',\n        // height: '400px',\n        width: '1080px',\n        marginTop: '20px',\n        marginLeft: '50%',\n        transform: 'translateX(-50%)'\n        // opacity: '0.8'\n    },\n    profileImage: {\n        objectFit: 'contain',\n        top: '180px',\n        // marginTop: '20px',\n        position: 'absolute',\n\n        height: '300px',\n        marginLeft: '65%',\n        transform: 'translateX(-65%)',\n\n\n        [theme.breakpoints.down('sm')]: {\n            height: '250px',\n            marginLeft: '50%',\n            transform: 'translateX(-50%)',\n        }\n    },\n    title: {\n        top: '420px',\n        // marginTop: '100px',\n        marginLeft: '8%',\n        transform: 'translateX(-5%)',\n        position: 'absolute',\n        width: '700px',\n        color: 'white',\n        fontWeight: 'bold',\n        textShadow: '1px 1px black',\n\n        [theme.breakpoints.down('sm')]: {\n            top: '360px',\n            marginLeft: '40%',\n            width: '250px',\n            transform: 'translateX(-50%)'\n        }\n    }\n});\n\nclass News extends Component {\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <React.Fragment>\n                <ContentContainer>\n                    <div className={this.props.classes.titleImageDiv}>\n                        <img\n                            className={this.props.classes.titleImage}\n                            // src={titleImage}\n                            src=\"https://firebasestorage.googleapis.com/v0/b/dad-page.appspot.com/o/lifereview%2Fcover.jpg?alt=media&token=98e2a593-7cec-4a5b-8a13-4192b9686df7\"\n                            alt='image'\n                        />\n                    </div>\n                    {/* <img\n                        className={this.props.classes.profileImage}\n                        src={profileImage}\n                        alt='image'\n                    /> */}\n                    <Typography variant=\"h6\" align=\"left\"\n                        className={this.props.classes.title}\n                    >\n                        {t('lifereview.heading1')}<br/>\n                        {t('lifereview.heading')}\n                    </Typography>\n                    <Grid container justify=\"center\" className={this.props.classes.root}\n                    // spacing={2} \n                    >\n                        <Grid item>\n                            <Typography variant=\"h5\">\n                                先夫\n                            </Typography>\n                            <Typography variant=\"h4\"><strong>陳銘洪醫生</strong></Typography>\n                            <Typography variant=\"h6\">\n                                痛於主曆二零二一年一月廿一日\n                                在廣華醫院息勞歸主在世寄居六十五載遺體奉移紅磡萬國殯儀館治喪謹定於主曆\n                                二零二一年二月廿六日（星期五）下午五時在該館地下孝思大禮堂設靈晚上七時\n                                三十分舉行追思會翌日二月廿七日（星期六）上午十時舉行安息禮拜十一時辭靈\n                                隨即出殯奉柩柴灣哥連臣角火葬場舉行火化禮<br/>哀此訃<br/><br/>\n                            </Typography>\n                            <Typography variant=\"h3\">\n                            <strong>聞</strong>\n                            </Typography>\n                            <Typography variant=\"h6\">\n                                妻\n                                </Typography>\n                            <Typography variant=\"h5\">\n                            <strong>陳陳玩儀</strong>\n                            </Typography>\n                            <Typography variant=\"h6\">\n                                孝男卓謙 孝媳姚冠婷<br/>\n                                孝男卓恆 孝媳廖麗華<br/>\n                                孫男崇希<br/>\n                                孫女希蕾<br/>\n                            </Typography>\n                            <Typography variant=\"h5\">\n                            <strong>敬告</strong>\n                            </Typography>\n                            <Typography variant=\"h6\">\n                                <br/>                                \n                                懇辭花圈<br/>\n                                如蒙賜賻<br/>\n                                帛金撥捐<br/>\n                                慈善用途<br/><br/>\n                                治喪處：萬國繽儀館<br/>\n                                地址：紅磡暢行道八號<br/>\n                                電話：二三O三一二三四<br/>\n                                （網上直播連結容後公佈）                       \n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </ContentContainer>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withTranslation()(withStyles(styles)(News));",{"ruleId":"292","replacedBy":"293"},{"ruleId":"294","replacedBy":"295"},{"ruleId":"296","severity":1,"message":"297","line":2,"column":16,"nodeType":"298","messageId":"299","endLine":2,"endColumn":26},{"ruleId":"296","severity":1,"message":"300","line":3,"column":8,"nodeType":"298","messageId":"299","endLine":3,"endColumn":18},{"ruleId":"296","severity":1,"message":"301","line":4,"column":8,"nodeType":"298","messageId":"299","endLine":4,"endColumn":20},{"ruleId":"296","severity":1,"message":"302","line":67,"column":16,"nodeType":"298","messageId":"299","endLine":67,"endColumn":17},{"ruleId":"292","replacedBy":"303"},{"ruleId":"294","replacedBy":"304"},{"ruleId":"296","severity":1,"message":"305","line":3,"column":10,"nodeType":"298","messageId":"299","endLine":3,"endColumn":19},{"ruleId":"296","severity":1,"message":"306","line":35,"column":11,"nodeType":"298","messageId":"299","endLine":35,"endColumn":18},{"ruleId":"307","severity":1,"message":"308","line":133,"column":25,"nodeType":"309","messageId":"310","endLine":133,"endColumn":27},{"ruleId":"296","severity":1,"message":"311","line":37,"column":9,"nodeType":"298","messageId":"299","endLine":37,"endColumn":14},{"ruleId":"296","severity":1,"message":"312","line":2,"column":8,"nodeType":"298","messageId":"299","endLine":2,"endColumn":13},{"ruleId":"292","replacedBy":"313"},{"ruleId":"294","replacedBy":"314"},{"ruleId":"296","severity":1,"message":"315","line":8,"column":10,"nodeType":"298","messageId":"299","endLine":8,"endColumn":20},{"ruleId":"296","severity":1,"message":"316","line":5,"column":10,"nodeType":"298","messageId":"299","endLine":5,"endColumn":13},{"ruleId":"296","severity":1,"message":"317","line":158,"column":15,"nodeType":"298","messageId":"299","endLine":158,"endColumn":25},{"ruleId":"296","severity":1,"message":"318","line":2,"column":8,"nodeType":"298","messageId":"299","endLine":2,"endColumn":13},{"ruleId":"292","replacedBy":"319"},{"ruleId":"294","replacedBy":"320"},{"ruleId":"296","severity":1,"message":"321","line":2,"column":22,"nodeType":"298","messageId":"299","endLine":2,"endColumn":26},{"ruleId":"296","severity":1,"message":"322","line":2,"column":28,"nodeType":"298","messageId":"299","endLine":2,"endColumn":37},{"ruleId":"296","severity":1,"message":"323","line":2,"column":39,"nodeType":"298","messageId":"299","endLine":2,"endColumn":50},{"ruleId":"296","severity":1,"message":"305","line":2,"column":52,"nodeType":"298","messageId":"299","endLine":2,"endColumn":61},{"ruleId":"296","severity":1,"message":"324","line":2,"column":63,"nodeType":"298","messageId":"299","endLine":2,"endColumn":67},{"ruleId":"296","severity":1,"message":"315","line":3,"column":10,"nodeType":"298","messageId":"299","endLine":3,"endColumn":20},{"ruleId":"325","severity":1,"message":"326","line":21,"column":14,"nodeType":"327","endLine":25,"endColumn":15},{"ruleId":"296","severity":1,"message":"328","line":2,"column":8,"nodeType":"298","messageId":"299","endLine":2,"endColumn":17},{"ruleId":"296","severity":1,"message":"329","line":47,"column":16,"nodeType":"298","messageId":"299","endLine":47,"endColumn":24},{"ruleId":"296","severity":1,"message":"330","line":45,"column":23,"nodeType":"298","messageId":"299","endLine":45,"endColumn":33},{"ruleId":"296","severity":1,"message":"331","line":2,"column":10,"nodeType":"298","messageId":"299","endLine":2,"endColumn":16},{"ruleId":"296","severity":1,"message":"332","line":2,"column":59,"nodeType":"298","messageId":"299","endLine":2,"endColumn":70},{"ruleId":"296","severity":1,"message":"305","line":2,"column":72,"nodeType":"298","messageId":"299","endLine":2,"endColumn":81},{"ruleId":"296","severity":1,"message":"333","line":9,"column":8,"nodeType":"298","messageId":"299","endLine":9,"endColumn":24},{"ruleId":"296","severity":1,"message":"334","line":37,"column":15,"nodeType":"298","messageId":"299","endLine":37,"endColumn":31},{"ruleId":"296","severity":1,"message":"335","line":38,"column":15,"nodeType":"298","messageId":"299","endLine":38,"endColumn":27},{"ruleId":"296","severity":1,"message":"306","line":40,"column":20,"nodeType":"298","messageId":"299","endLine":40,"endColumn":27},{"ruleId":"296","severity":1,"message":"302","line":32,"column":16,"nodeType":"298","messageId":"299","endLine":32,"endColumn":17},{"ruleId":"296","severity":1,"message":"336","line":32,"column":19,"nodeType":"298","messageId":"299","endLine":32,"endColumn":26},{"ruleId":"296","severity":1,"message":"317","line":161,"column":15,"nodeType":"298","messageId":"299","endLine":161,"endColumn":25},{"ruleId":"296","severity":1,"message":"337","line":221,"column":13,"nodeType":"298","messageId":"299","endLine":221,"endColumn":24},{"ruleId":"296","severity":1,"message":"331","line":2,"column":10,"nodeType":"298","messageId":"299","endLine":2,"endColumn":16},{"ruleId":"296","severity":1,"message":"334","line":61,"column":15,"nodeType":"298","messageId":"299","endLine":61,"endColumn":31},{"ruleId":"296","severity":1,"message":"335","line":62,"column":15,"nodeType":"298","messageId":"299","endLine":62,"endColumn":27},{"ruleId":"296","severity":1,"message":"338","line":7,"column":10,"nodeType":"298","messageId":"299","endLine":7,"endColumn":29},{"ruleId":"296","severity":1,"message":"317","line":171,"column":15,"nodeType":"298","messageId":"299","endLine":171,"endColumn":25},{"ruleId":"296","severity":1,"message":"337","line":235,"column":13,"nodeType":"298","messageId":"299","endLine":235,"endColumn":24},{"ruleId":"339","severity":1,"message":"340","line":109,"column":34,"nodeType":"341","messageId":"342","endLine":109,"endColumn":36},{"ruleId":"296","severity":1,"message":"333","line":9,"column":8,"nodeType":"298","messageId":"299","endLine":9,"endColumn":24},{"ruleId":"296","severity":1,"message":"334","line":30,"column":15,"nodeType":"298","messageId":"299","endLine":30,"endColumn":31},{"ruleId":"296","severity":1,"message":"335","line":31,"column":15,"nodeType":"298","messageId":"299","endLine":31,"endColumn":27},{"ruleId":"296","severity":1,"message":"300","line":3,"column":8,"nodeType":"298","messageId":"299","endLine":3,"endColumn":18},{"ruleId":"296","severity":1,"message":"301","line":4,"column":8,"nodeType":"298","messageId":"299","endLine":4,"endColumn":20},{"ruleId":"296","severity":1,"message":"343","line":7,"column":8,"nodeType":"298","messageId":"299","endLine":7,"endColumn":20},{"ruleId":"325","severity":1,"message":"326","line":74,"column":25,"nodeType":"327","endLine":79,"endColumn":27},"no-native-reassign",["344"],"no-negated-in-lhs",["345"],"no-unused-vars","'Typography' is defined but never used.","Identifier","unusedVar","'titleImage' is defined but never used.","'profileImage' is defined but never used.","'t' is assigned a value but never used.",["344"],["345"],"'Container' is defined but never used.","'classes' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'title' is assigned a value but never used.","'Modal' is defined but never used.",["344"],["345"],"'makeStyles' is defined but never used.","'app' is defined but never used.","'inputValue' is assigned a value but never used.","'axios' is defined but never used.",["344"],["345"],"'Card' is defined but never used.","'CardMedia' is defined but never used.","'CardContent' is defined but never used.","'Grid' is defined but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'PropTypes' is defined but never used.","'location' is assigned a value but never used.","'credential' is assigned a value but never used.","'Button' is defined but never used.","'DialogTitle' is defined but never used.","'ContentContainer' is defined but never used.","'additionalConfig' is assigned a value but never used.","'buttonConfig' is assigned a value but never used.","'message' is assigned a value but never used.","'mainContent' is assigned a value but never used.","'checkFormFieldValid' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'ArticleItems' is defined but never used.","no-global-assign","no-unsafe-negation"]